services:
  mariadb:
    image: ${MARIADB_IMAGE:-mariadb:latest}
    restart: unless-stopped
    command: >
      --transaction-isolation=READ-COMMITTED
      --binlog-format=ROW
      --innodb-file-per-table=1
      --skip-innodb-read-only-compressed
    environment:
      - MARIADB_DATABASE=${MARIADB_DATABASE:-mydb}
      - MARIADB_ROOT_PASSWORD=${MARIADB_ROOT_PASSWORD:-ChangeThisPassword}
      - MARIADB_USER=${MARIADB_USER:-dbuser}
      - MARIADB_PASSWORD=${MARIADB_PASSWORD:-AlsoChangeThisPassword}
    volumes:
      - mariadb-data:/var/lib/mysql

volumes:
  mariadb-data:
